{% if messages %}
    {% for message in messages %}
        <div class="position-fixed bottom-0 end-0 p-3 toaster" style="z-index: 11;transition:transform 900ms;">
            <div id="toast-teimoso" class="toast align-items-center text-white bg-{{message.tags}} border-0" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="d-flex">
                <div class="toast-body">
                    {{ message }}
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
            </div>
        </div>
    {% endfor %}
{% endif %}

<script>
    window.onload = (event) => {
        let alerts = document.querySelectorAll('.toaster');
        let margin_sum = 0
        let time_sum = 0
        for(let alert of alerts){
            let toast = alert.children[0]
            alert.style.transform = `translateY(-${margin_sum}px)`;
            margin_sum += 50;
            time_sum += 50;
            let bsAlert = new bootstrap.Toast(toast);
            setTimeout(() => {bsAlert.show()}, time_sum)
        }
    }
</script>